<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OXIDE IZZY SPARK</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Rajdhani:wght@500;700&display=swap');
        :root { --g-oxide: 0 0 20px #fff; --g-izzy: 0 0 20px #0ff; --g-spark: 0 0 20px #f80; }
        body { background: #000; color: #ccc; font-family: 'Rajdhani', sans-serif; margin: 0; }
        .neon-white { color: #fff; text-shadow: var(--g-oxide); }
        .neon-cyan { color: #0ff; text-shadow: var(--g-izzy); }
        .neon-orange { color: #f80; text-shadow: var(--g-spark); }
        .glass { background: rgba(10,10,10,0.9); border: 1px solid #222; backdrop-filter: blur(15px); }
        .tab-btn { flex: 1; padding: 15px; cursor: pointer; border-bottom: 2px solid #111; text-align: center; transition: 0.3s; }
        .active-1 { border-color: #fff; color: #fff; background: rgba(255,255,255,0.05); }
        .active-2 { border-color: #0ff; color: #0ff; background: rgba(0,255,255,0.05); }
        .active-3 { border-color: #f80; color: #f80; background: rgba(255,128,0,0.05); }
        .input-cyber { background: #0a0a0a !important; border: 1px solid #333 !important; color: #0ff !important; font-size: 12px; border-radius: 4px; padding: 8px; width: 100%; }
        .glow-btn { transition: 0.5s; text-transform: uppercase; font-weight: bold; width: 100%; cursor: pointer; }
        .glow-btn:hover { transform: scale(1.01); filter: brightness(1.2); }
    </style>
</head>
<body>
    <header class="text-center py-6">
        <h1 class="font-bold text-3xl tracking-tighter font-['Orbitron']">
            <span class="neon-white">OXIDE</span> <span class="neon-cyan">IZZY</span> <span class="neon-orange">SPARK</span>
        </h1>
    </header>

    <nav class="flex w-full glass sticky top-0 z-50">
        <div id="btn1" class="tab-btn active-1" onclick="switchTab(1)"><i class="fas fa-eye"></i></div>
        <div id="btn2" class="tab-btn" onclick="switchTab(2)"><i class="fas fa-wand-magic-sparkles"></i></div>
        <div id="btn3" class="tab-btn" onclick="switchTab(3)"><i class="fas fa-male"></i></div>
    </nav>

    <main class="p-4 md:p-8">
        <section id="tab1" class="tab-content grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="glass p-6 rounded-lg border-l-4 border-white">
                <div class="border-2 border-dashed border-zinc-800 h-48 flex flex-col items-center justify-center rounded-lg mb-4">
                    <input type="file" id="file1" class="hidden" accept="image/*">
                    <button onclick="document.getElementById('file1').click()" class="text-white text-sm"><i class="fas fa-plus-circle text-2xl mb-2 block text-center"></i>UPLOAD REFERENSI</button>
                </div>
                <div id="vOutput" class="bg-black/60 p-4 rounded text-xs font-mono border border-zinc-800 min-h-[150px] overflow-y-auto">Siap menganalisis...</div>
                <button onclick="runVision()" class="glow-btn bg-white text-black p-3 rounded mt-4">EKSEKUSI ANALISIS</button>
            </div>
        </section>
        </main>

    <script>
        const API_KEY = "AIzaSyBG2Htu1vtKs7edq1oCsixnu_aYJpO9gw4";

        function switchTab(n) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active-1', 'active-2', 'active-3'));
            document.getElementById('tab'+n).classList.remove('hidden');
            document.getElementById('btn'+n).classList.add('active-'+n);
        }

        async function runVision() {
            const fileInput = document.getElementById('file1');
            if(!fileInput.files[0]) return alert("Pilih gambar dulu!");
            const vOut = document.getElementById('vOutput');
            vOut.innerHTML = "<span class='neon-cyan animate-pulse'>ANALYZING MATERIAL...</span>";
            const file = fileInput.files[0];
            const reader = new FileReader();
            reader.onload = async () => {
                const base64 = reader.result.split(',')[1];
                try {
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY}`, {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({ contents: [{ parts: [{text: "Describe this image technically. Focus on: angle, lens, lighting, fabric material, color tone. STRICT: DO NOT describe face, hair, or ethnicity. Use '(gambar referensi)' after the subject. Output in English."}, {inline_data: {mime_type: "image/jpeg", data: base64}}] }] })
                    });
                    const result = await response.json();
                    vOut.innerText = result.candidates[0].content.parts[0].text;
                } catch (e) { vOut.innerText = "Error: Pastikan API KEY benar."; }
            };
            reader.readAsDataURL(file);
        }
    </script>
</body>
</html>